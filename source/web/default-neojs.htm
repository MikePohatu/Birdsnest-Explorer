<!doctype html>
<html>
    <head>
        <title>Neovis.js Simple Example</title>
        <style type="text/css">
            html, body {
                font: 16pt arial;
            }
    
            #viz {
                width: 900px;
                height: 700px;
                border: 1px solid lightgray;
                font: 22pt arial;
            }
        </style>
		<script src="https://rawgit.com/neo4j-contrib/neovis.js/master/dist/neovis.js"></script>
    </head>
    <body onload="draw()">
        
		<div id="viz"></div>
		<script type="text/javascript">

			var viz;

			function draw() {
				var config = {
					container_id: "viz",
					server_url: "bolt://dev01.home.local:7687",
					server_user: "svc_neo4j",
					server_password: "5GGX2zMgQxJuG2INz5N5",
					arrows:true,
					labels: {
						"AD_GROUP": {
							"caption": "name",
							"size": "member_count"
						},
						"AD_USER": {
							"caption": "name",
							"size": "member_count"
						},
						"AD_COMPUTER": {
							"caption": "name",
							"size": "member_count"
						},
						"FS_DATASTORE": {
							"caption": "name"
						},
						"FS_FOLDER": {
							"caption": "path"
						}
					},
					relationships: {
						"AD_MemberOf": {
							"thickness": "weight",
							"caption": true
						}
					},
					initial_cypher: "MATCH (n)-[r*]->(m) RETURN *"
				};

				viz = new NeoVis.default(config);
				viz.render();
				viz.stabilize();
			}
		</script>
		
		<input type="submit" value="Reload" id="reload">
		<input type="submit" value="Stabilize" id="stabilize">
    </body>    
	
	<script>
		$("#reload").click(function() {
			var cypher = $("#cypher").val();
			if (cypher.length > 3) {
				viz.renderWithCypher(cypher);
			} else {
				console.log("reload");
				viz.reload();
			}
		});
		$("#stabilize").click(function() {
			viz.stabilize();
		})
	</script>
</html>